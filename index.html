<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Geometry of Cameras</title>
    
    <!-- p5.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    
    <!-- KaTeX for Math Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="sytle.css">
</head>
<body>
    <div class="presentation-container">
        
        <!-- Title Slide -->
        <section class="slide active" id="slide-0">
            <div class="slide-content title-slide">
                <h1>The Geometry of Cameras</h1>
                <p class="subtitle">Foundations of Camera Projection</p>
            </div>
        </section>

        <!-- Slide 1: Overview -->
        <section class="slide" id="slide-1">
            <div class="slide-content conclusion-slide">
                <h2>Overview</h2>
                <div class="intro-content" style="max-width: 1000px; margin: 0 auto;">
                    
                    <div class="summary-content" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem;">
                        <div class="summary-item">
                            <h3>Historical Origins</h3>
                            <p>From Renaissance perspective drawing to the camera obscura, how artists discovered projection geometry</p>
                        </div>
                        
                        <div class="summary-item">
                            <h3>Desargues' Theorem</h3>
                            <p>The 17th-century geometric theorem that explains why cameras work, with interactive 3D proof</p>
                        </div>
                        
                        <div class="summary-item">
                            <h3>Pinhole Camera Model</h3>
                            <p>From ideal geometry to real cameras: principal points, focal lengths, and the intrinsic matrix</p>
                        </div>
                        
                        <div class="summary-item">
                            <h3>Projection Types</h3>
                            <p>Perspective vs orthographic, understanding when objects shrink with distance and when they don't</p>
                        </div>
                        
                        <div class="summary-item">
                            <h3>Ray-Plane Mathematics</h3>
                            <p>The parametric equations and perspective division that power every 3D-to-2D transformation</p>
                        </div>
                        
                        <div class="summary-item">
                            <h3>Real-World Applications</h3>
                            <p>How this geometry enables panoramas, depth of field, 3D reconstruction, and augmented reality</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 2: History - Projective Geometry & Art -->
        <section class="slide" id="slide-2">
            <div class="slide-content conclusion-slide">
                <h2>History: Projective Geometry & Representational Art</h2>
                <div style="max-width: 1100px; margin: 0 auto;">
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            <strong>The history of projective geometry is intimately related to that of representational art.</strong>
                        </p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem;">
                        <div>
                            <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                                15th & 16th Century Renaissance
                            </h3>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                Artists such as <strong>Alberti</strong>, <strong>Piero della Francesca</strong>, and 
                                <strong>Albrecht Dürer</strong> studied how to draw in perspective.
                            </p>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                They imagined a frame through which the artist looks at a scene. A ray from a 
                                <em>center of perspective</em> to a point in the scene intersects a canvas
                                bounded by the frame, creating an <strong>image point</strong>.
                            </p>
                            <p style="font-size: 1.05rem; line-height: 1.8;">
                                A picture results from transferring those image points to paper. This is the 
                                fundamental principle of <strong>perspective projection</strong>.
                            </p>
                        </div>
                        
                        <div>
                            <div style="background: var(--canvas-bg); padding: 2rem; border-radius: 8px; border-left: 4px solid var(--accent-teal);">
                                <h4 style="font-family: var(--font-serif); font-size: 1.3rem; color: var(--primary-dark); margin-bottom: 1rem;">
                                    The Artist's Method
                                </h4>
                                <svg width="100%" height="250" viewBox="0 0 400 250" style="margin: 1rem 0;">
                                    <!-- Frame -->
                                    <rect x="150" y="50" width="100" height="120" fill="none" stroke="#2c4a7c" stroke-width="3"/>
                                    <text x="200" y="185" font-size="14" text-anchor="middle" fill="#666">Frame/Canvas</text>
                                    
                                    <!-- Eye/Center of Perspective -->
                                    <circle cx="50" cy="110" r="8" fill="#d4a574"/>
                                    <text x="50" y="95" font-size="12" text-anchor="middle" fill="#666">Artist's Eye</text>
                                    <text x="50" y="140" font-size="11" text-anchor="middle" fill="#666">(Center of</text>
                                    <text x="50" y="152" font-size="11" text-anchor="middle" fill="#666">Perspective)</text>
                                    
                                    <!-- Scene objects -->
                                    <circle cx="320" cy="80" r="10" fill="#4a9ca6"/>
                                    <text x="320" y="65" font-size="11" text-anchor="middle" fill="#666">Scene Point</text>
                                    
                                    <!-- Projection rays -->
                                    <defs>
                                        <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                            <polygon points="0 0, 10 3, 0 6" fill="#ffc107"/>
                                        </marker>
                                    </defs>
                                    <line x1="50" y1="110" x2="320" y2="80" stroke="#ffc107" stroke-width="2" stroke-dasharray="4,4"/>
                                    
                                    <!-- Image point on frame -->
                                    <circle cx="170" cy="95" r="5" fill="#ff5722"/>
                                    <text x="170" y="115" font-size="10" text-anchor="middle" fill="#666">Image</text>
                                    <text x="170" y="126" font-size="10" text-anchor="middle" fill="#666">Point</text>
                                </svg>
                                <p style="font-size: 0.95rem; color: var(--text-muted); font-style: italic; margin-top: 1rem;">
                                    The geometric principle behind perspective drawing
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(74, 156, 166, 0.1), rgba(212, 165, 116, 0.1)); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-gold);">
                        <p style="font-size: 1.05rem; line-height: 1.7;">
                            <strong>Key Insight:</strong> This artistic technique laid the mathematical foundation for 
                            understanding how 3D space projects onto a 2D plane—the essence of both projective geometry 
                            and modern computer graphics.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 3: History - Camera Obscura -->
        <section class="slide" id="slide-3">
            <div class="slide-content conclusion-slide">
                <h2>History: The Camera Obscura</h2>
                <div style="max-width: 1100px; margin: 0 auto;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem;">
                        <div>
                            <img src="images/camera obscura.jpg" 
                                 alt="Camera Obscura" 
                                 style="width: 100%; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); margin-bottom: 1rem;">
                            <p style="text-align: center; font-style: italic; color: var(--text-muted);">
                                Camera Obscura illustration (Latin: "dark room")
                            </p>
                        </div>
                        <div>
                            <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                                A Tool for Artists
                            </h3>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                Originally a <strong>darkened room</strong> with a small hole in one side. Rays from the 
                                scene pass through the hole and map on the opposite wall, forming an image of the scene 
                                which can be traced.
                            </p>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                <strong>The image is upside down.</strong> If you traced it on paper and rotated the paper 
                                180 degrees, you would find that left and right are reversed, like a mirror.
                            </p>
                            <div style="background: var(--highlight); padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                                <p style="font-size: 1.05rem; line-height: 1.8;">
                                    <strong>Johannes Vermeer</strong> and other 17th century Dutch masters used 
                                    the camera obscura as an aid to achieving photorealistic perspective and lighting.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: var(--canvas-bg); padding: 2rem; border-radius: 8px; margin-top: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-dark); margin-bottom: 1rem;">
                            Evolution to Modern Photography
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            <strong>Adding a lens</strong> produced a much brighter image. Through various devices, it became 
                            possible to view the image outside the camera, right side up, without left-right reflection.
                        </p>
                        <p style="font-size: 1.05rem; line-height: 1.8;">
                            The camera obscura played a crucial role in the history of representational art, and 
                            <strong>photography arose through efforts to "fix" its image</strong> permanently on light-sensitive 
                            materials.
                        </p>
                    </div>
                </div>
            </div>
        </section>

<!-- Slide 4: Connection to Projective Geometry & Desargues' Theorem -->
        <section class="slide" id="slide-4">
            <div class="slide-content conclusion-slide">
                <h2>The Deep Connection to Projective Geometry</h2>
                <div style="max-width: 1200px; margin: 0 auto;">
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            Camera geometry is fundamentally an application of <strong>projective geometry</strong>—
                            the mathematical study of properties preserved under projection and perspective.
                        </p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem;">
                        <div>
                            <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                                Desargues' Theorem
                            </h3>
                            <div style="background: var(--highlight); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-teal); margin-bottom: 1.5rem;">
                                <p style="font-size: 1.05rem; line-height: 1.8; font-style: italic;">
                                    "If in a plane two triangles <strong>ABC</strong> and <strong>abc</strong> are situated 
                                    so that the straight lines joining corresponding vertices are concurrent in a point <strong>O</strong>, 
                                    then the corresponding sides, if extended, will intersect in <strong>three collinear points</strong>."
                                </p>
                            </div>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                This 17th-century theorem by <strong>Girard Desargues</strong> is a fundamental result in 
                                projective geometry. It describes a property that remains true under perspective projection.
                            </p>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                When a camera captures a 3D scene, it performs a projective transformation. Understanding 
                                projective geometry helps us reason about how 3D structures map to 2D images.
                            </p>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                We will prove this Theorem!
                            </p>
                        </div>
                        
                        <div>
                            <div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <h4 style="text-align: center; margin-bottom: 1rem; color: var(--primary-dark);">
                                    Desargues' Theorem Illustrated
                                </h4>
                                <img src="images/desargues theorem.png" alt="Desargues' Theorem" style="width: 100%; border-radius: 8px;">
                                <p style="font-size: 0.9rem; color: var(--text-muted); text-align: center; margin-top: 0.5rem;">
                                    Robert E. Wheeler (2003)
                                </p>
                                <p style="font-size: 0.9rem; color: var(--text-muted); font-style: italic; margin-top: 1rem; text-align: center;">
                                    Two triangles in perspective: lines through corresponding vertices meet at point O, 
                                    and extensions of corresponding sides meet on a line
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(74, 156, 166, 0.1), rgba(212, 165, 116, 0.1)); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-gold); margin-bottom: 2rem;">
                        <p style="font-size: 1.05rem; line-height: 1.7;">
                            <strong>Why This Matters:</strong> Modern computer vision relies on projective geometry to solve 
                            problems like camera calibration, 3D reconstruction from images, and understanding how objects 
                            appear under different viewpoints. The mathematics developed by Renaissance artists and 17th-century 
                            geometers directly powers today's computer graphics and vision systems.
                        </p>
                    </div>
                    
                    <!-- Interactive 3D Demonstration -->
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-top: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                            Processing 3D Sketch
                        </h3>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div class="canvas-container" id="canvas-5" style="width: 100%; max-width: 800px; height: 600px; margin-bottom: 1rem;"></div>
                            <button class="fullscreen-btn" data-canvas="5" style="margin-bottom: 1rem;">⛶ Fullscreen</button>
                            <p style="font-size: 0.95rem; color: var(--text-muted); font-style: italic; text-align: center; max-width: 700px;">
                                Adjust the slider to change the angle between planes • Drag to rotate view • Scroll to zoom<br/>
                                <strong>Yellow point O:</strong> center of perspective • 
                                <strong>Blue & Red triangles:</strong> projections on two planes • 
                                <strong>Yellow line:</strong> intersection of the two planes
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 5: Basic Construction (your existing slide, just renumber) -->
        <section class="slide" id="slide-5">
            <div class="slide-content conclusion-slide">
                <h2>Basic Construction of a Pinhole Camera</h2>
                <div style="max-width: 1000px; margin: 0 auto;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 3rem;">
                        <div>
                            <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                                Components
                            </h3>
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 0.5rem;">1. Light-tight Box</h4>
                                <p style="line-height: 1.7;">A sealed container that prevents external light from entering</p>
                            </div>
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 0.5rem;">2. Pinhole Aperture</h4>
                                <p style="line-height: 1.7;">A tiny hole (typically 0.2-0.5mm) through which light enters</p>
                            </div>
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 0.5rem;">3. Image Plane (Film)</h4>
                                <p style="line-height: 1.7;">Photographic film or sensor placed opposite the pinhole</p>
                            </div>
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 0.5rem;">4. Fixed Distance</h4>
                                <p style="line-height: 1.7;">The focal length is the distance between pinhole and film</p>
                            </div>
                        </div>
                        
                        <div>
                            <div style="background: var(--highlight); border: 2px solid var(--accent-teal); border-radius: 8px; padding: 2rem; height: 100%;">
                                <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                                    How It Works
                                </h3>
                                <div style="text-align: center; margin: 2rem 0;">
                                    <svg width="100%" height="200" viewBox="0 0 500 200" style="max-width: 500px;">
                                        <!-- Camera Box -->
                                        <rect x="150" y="50" width="200" height="100" 
                                            fill="none" stroke="#2c4a7c" stroke-width="3"/>
                                        
                                        <!-- Pinhole -->
                                        <circle cx="150" cy="100" r="4" fill="#d4a574"/>
                                        <text x="120" y="125" font-size="12" text-anchor="middle" fill="#666">Pinhole</text>
                                        
                                        <!-- Film/Image Plane -->
                                        <line x1="350" y1="60" x2="350" y2="140" 
                                            stroke="#4a9ca6" stroke-width="4"/>
                                        <text x="350" y="175" font-size="12" text-anchor="middle" fill="#666">Film</text>
                                        
                                        <!-- Object outside camera -->
                                        <circle cx="80" cy="70" r="8" fill="#d4a574"/>
                                        <text x="80" y="45" font-size="12" text-anchor="middle" fill="#666">Object</text>
                                        
                                        <!-- Light rays from object to pinhole -->
                                        <line x1="88" y1="70" x2="150" y2="100" 
                                            stroke="#ffc107" stroke-width="2" stroke-dasharray="3,3"/>
                                        
                                        <!-- Light rays from pinhole to film (inverted) -->
                                        <line x1="150" y1="100" x2="350" y2="130" 
                                            stroke="#ffc107" stroke-width="2"/>
                                        <line x1="150" y1="100" x2="350" y2="70" 
                                            stroke="#ffc107" stroke-width="2" opacity="0.5"/>
                                        
                                        <!-- Projected image on film -->
                                        <circle cx="350" cy="130" r="3" fill="#ff5722"/>
                                        <text x="360" y="100" font-size="11" fill="#666">Inverted Image</text>
                                        
                                        <!-- Arrow showing light direction -->
                                        <defs>
                                            <marker id="arrowhead" markerWidth="10" markerHeight="10" 
                                                    refX="9" refY="3" orient="auto">
                                                <polygon points="0 0, 10 3, 0 6" fill="#ffc107"/>
                                            </marker>
                                        </defs>
                                        <line x1="120" y1="85" x2="145" y2="98" 
                                            stroke="#ffc107" stroke-width="1" 
                                            marker-end="url(#arrowhead)"/>
                                    </svg>
                                    <p style="font-size: 0.95rem; color: var(--text-muted); margin-top: 1rem;">
                                        Light rays from the object pass through the pinhole and project an inverted image on the film plane
                                    </p>
                                </div>
                                <ol style="line-height: 2; font-size: 1.05rem;">
                                    <li><strong>Light rays</strong> from the scene travel in straight lines</li>
                                    <li>Rays pass through the <strong>tiny pinhole</strong></li>
                                    <li>Rays continue to the <strong>opposite wall</strong> (film plane)</li>
                                    <li>An <strong>inverted image</strong> is formed on the film</li>
                                    <li>The smaller the hole, the <strong>sharper</strong> the image (but dimmer)</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    
                    <div class="note">
                        <p style="font-size: 1.1rem;">
                            <strong>No Lenses Required:</strong> Unlike modern cameras, pinhole cameras create images through pure geometry—
                            no glass lenses or focusing mechanisms needed. This makes them perfect for understanding the fundamental 
                            mathematics of projection.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 6: Projection Types - Stereographic vs Orthographic -->
        <section class="slide" id="slide-6">
            <div class="slide-content conclusion-slide">
                <h2>Types of Projections</h2>
                <div style="max-width: 1200px; margin: 0 auto;">
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            Before diving into pinhole cameras, it's important to understand the different ways 3D space 
                            can be projected onto a 2D plane. The two fundamental types are <strong>perspective (stereographic)</strong> 
                            and <strong>orthographic</strong> projections.
                        </p>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem;">
                        <!-- Stereographic/Perspective Projection -->
                        <div>
                            <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                                    Perspective (Stereographic) Projection
                                </h3>
                                <div style="width: 100%; height: 300px; background: var(--canvas-bg); border: 2px dashed var(--border-color); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 1rem; overflow: hidden;">
                                    <img src="images/stereographic light source.png" alt="Perspective Projection" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                                </div>
                                <div style="background: var(--highlight); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                                    <h4 style="color: var(--primary-dark); margin-bottom: 1rem;">Characteristics</h4>
                                    <ul style="line-height: 2; font-size: 1.05rem; margin-left: 1.5rem;">
                                        <li>Rays converge at a single <strong>center of projection</strong></li>
                                        <li>Objects farther away appear <strong>smaller</strong></li>
                                        <li>Parallel lines converge to <strong>vanishing points</strong></li>
                                        <li>Creates <strong>realistic depth perception</strong></li>
                                    </ul>
                                </div>
                                <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px;">
                                    <h4 style="color: var(--primary-dark); margin-bottom: 1rem;">Mathematical Model</h4>
                                    <div class="equation">
                                        \[
                                        \begin{aligned}
                                        u &= f \frac{X}{Z} \\
                                        v &= f \frac{Y}{Z}
                                        \end{aligned}
                                        \]
                                    </div>
                                    <p style="font-size: 0.95rem; margin-top: 0.5rem;">
                                        Note the division by depth \(Z\)—this creates the perspective effect.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Orthographic Projection -->
                        <div>
                            <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                                    Orthographic Projection
                                </h3>
                                <div style="width: 100%; height: 300px; background: var(--canvas-bg); border: 2px dashed var(--border-color); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                                    <div style="width: 100%; height: 300px; background: var(--canvas-bg); border: 2px dashed var(--border-color); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 1rem; overflow: hidden;">
                                        <img src="images/orthographic light source.jpg" alt="Perspective Projection" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                                    </div>
                                </div>
                                <div style="background: var(--highlight); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
                                    <h4 style="color: var(--primary-dark); margin-bottom: 1rem;">Characteristics</h4>
                                    <ul style="line-height: 2; font-size: 1.05rem; margin-left: 1.5rem;">
                                        <li>Rays are <strong>parallel</strong> (no center of projection)</li>
                                        <li>Objects maintain <strong>same size</strong> regardless of depth</li>
                                        <li>Parallel lines remain <strong>parallel</strong></li>
                                        <li>Preserves <strong>measurements and proportions</strong></li>
                                    </ul>
                                </div>
                                <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px;">
                                    <h4 style="color: var(--primary-dark); margin-bottom: 1rem;">Mathematical Model</h4>
                                    <div class="equation">
                                        \[
                                        \begin{aligned}
                                        u &= X \\
                                        v &= Y
                                        \end{aligned}
                                        \]
                                    </div>
                                    <p style="font-size: 0.95rem; margin-top: 0.5rem;">
                                        Simply drops the \(Z\) coordinate—no depth scaling.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Comparison and Applications -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                        <div style="background: linear-gradient(135deg, rgba(74, 156, 166, 0.1), rgba(212, 165, 116, 0.1)); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-teal);">
                            <h4 style="font-family: var(--font-serif); font-size: 1.3rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                When to Use Perspective
                            </h4>
                            <ul style="line-height: 1.8; font-size: 1.05rem;">
                                <li><strong>Photography & Cameras:</strong> Creates realistic images as seen by human eyes</li>
                                <li><strong>Computer Graphics:</strong> Rendering 3D scenes for games and movies</li>
                                <li><strong>Architectural Visualization:</strong> Showing how buildings appear in context</li>
                                <li><strong>Virtual Reality:</strong> Immersive experiences require perspective</li>
                            </ul>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, rgba(212, 165, 116, 0.1), rgba(74, 156, 166, 0.1)); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-gold);">
                            <h4 style="font-family: var(--font-serif); font-size: 1.3rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                When to Use Orthographic
                            </h4>
                            <ul style="line-height: 1.8; font-size: 1.05rem;">
                                <li><strong>Technical Drawings:</strong> Engineering blueprints and CAD models</li>
                                <li><strong>Architecture Plans:</strong> Floor plans and elevation views</li>
                                <li><strong>Maps & Cartography:</strong> Top-down views with accurate measurements</li>
                                <li><strong>Medical Imaging:</strong> X-rays and certain diagnostic scans</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="note" style="margin-top: 2rem;">
                        <p style="font-size: 1.05rem; line-height: 1.7;">
                            <strong>Pinhole cameras use perspective projection.</strong> The remainder of this presentation 
                            focuses on the mathematics and geometry of perspective projection, which forms the foundation of 
                            modern photography, computer vision, and computer graphics.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 7: Projective Geometry & Camera Models -->
        <section class="slide" id="slide-7">
            <div class="slide-content conclusion-slide">
                <h2>From Projective Geometry to Camera Models</h2>
                <div style="max-width: 1200px; margin: 0 auto;">
                    
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            <strong>Desargues' Theorem is the bridge</strong> between pure projective geometry and 
                            practical camera systems. Understanding this connection reveals why camera matrices take 
                            their mathematical form.
                        </p>
                    </div>

                    <!-- Interactive Demo -->
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                            Desargues' Theorem: Parallel Planes in Perspective
                        </h3>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <div class="canvas-container" id="canvas-7" style="width: 100%; max-width: 900px; height: 700px; margin-bottom: 1rem;"></div>
                            <button class="fullscreen-btn" data-canvas="7" style="margin-bottom: 1rem;">⛶ Fullscreen</button>
                            <p style="font-size: 0.95rem; color: var(--text-muted); font-style: italic; text-align: center; max-width: 800px;">
                                Two triangles (blue: <strong>ABC</strong>, red: <strong>abc</strong>) in different planes, viewed from perspective center <strong>O</strong>. 
                                Lines through corresponding vertices pass through O. The intersections <strong>P₁, P₂, P₃</strong> 
                                of corresponding sides lie on a single line (green)—this is Desargues' Theorem.
                            </p>
                        </div>
                    </div>

                    <!-- Mathematical Connection -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                        <div style="background: var(--canvas-bg); padding: 2rem; border-radius: 8px;">
                            <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                The Ideal Pinhole Model
                            </h3>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                In pure projective geometry, a pinhole camera is modeled as a <strong>central projection</strong>—
                                exactly the setup in Desargues' Theorem with point O as the pinhole.
                            </p>
                            <div class="equation">
                                \[
                                \begin{bmatrix} u \\ v \\ w \end{bmatrix} 
                                \sim 
                                \begin{bmatrix}
                                f & 0 & 0 \\
                                0 & f & 0 \\
                                0 & 0 & 1
                                \end{bmatrix}
                                \begin{bmatrix} X \\ Y \\ Z \end{bmatrix}
                                \]
                            </div>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-top: 1rem;">
                                Here, the image plane passes through the origin with the pinhole at the coordinate center. 
                                This is the <strong>theoretical ideal</strong>, no offsets, perfect alignment.
                            </p>
                        </div>

                        <div style="background: white; padding: 2rem; border-radius: 8px; border: 2px solid var(--accent-teal);">
                            <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                The Real-World Camera
                            </h3>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                Physical cameras have <strong>manufacturing imperfections</strong>: the image sensor 
                                is not perfectly centered, the optical axis doesn't pass through the sensor's origin, 
                                and pixels may not be square.
                            </p>
                            <div class="equation">
                                \[
                                \begin{bmatrix} u \\ v \\ w \end{bmatrix} 
                                \sim 
                                \begin{bmatrix}
                                f_x & 0 & c_x \\
                                0 & f_y & c_y \\
                                0 & 0 & 1
                                \end{bmatrix}
                                \begin{bmatrix} X \\ Y \\ Z \end{bmatrix}
                                \]
                            </div>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-top: 1rem;">
                                The <strong>principal point \((c_x, c_y)\)</strong> corrects for this misalignment. 
                                Separate focal lengths \(f_x, f_y\) account for non-square pixels.
                            </p>
                        </div>
                    </div>

                    <!-- NEW: Defining the Principal Point -->
                    <div style="background: white; padding: 2.5rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                            Defining the Principal Point
                        </h3>
                        
                        <div style="background: var(--highlight); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid var(--accent-teal);">
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                <strong>The principal point</strong> is the point on the image plane onto which the perspective 
                                center is projected. It is also the point from which the focal length of the lens is measured.
                            </p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                            <!-- PPA -->
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 1rem; font-size: 1.2rem;">
                                    <abbr title="Principal Point of Autocollimation" style="text-decoration: none; border-bottom: 2px dotted var(--accent-teal);">PPA</abbr>
                                </h4>
                                <p style="font-size: 0.95rem; line-height: 1.7;">
                                    <strong>Principal Point of Autocollimation</strong><br/>
                                    The image position where the <strong>optical axis</strong> intersects the image plane. 
                                    This is the geometric center of the optical system.
                                </p>
                            </div>
                            
                            <!-- POS -->
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 1rem; font-size: 1.2rem;">
                                    <abbr title="Principal Point of Symmetry" style="text-decoration: none; border-bottom: 2px dotted var(--accent-gold);">POS</abbr>
                                </h4>
                                <p style="font-size: 0.95rem; line-height: 1.7;">
                                    <strong>Principal Point of Symmetry</strong> (Calibrated Principal Point)<br/>
                                    The point where a ray perpendicular to the image plane passes through the focal point. 
                                    <strong>Perspective effects are radial about this point.</strong>
                                </p>
                            </div>
                            
                            <!-- IPP -->
                            <div style="background: var(--canvas-bg); padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: var(--primary-dark); margin-bottom: 1rem; font-size: 1.2rem;">
                                    <abbr title="Indicated Principal Point" style="text-decoration: none; border-bottom: 2px dotted var(--primary-blue);">IPP</abbr>
                                </h4>
                                <p style="font-size: 0.95rem; line-height: 1.7;">
                                    <strong>Indicated Principal Point</strong><br/>
                                    The intersection of opposing fiducial marks on the image. In a perfectly assembled camera, 
                                    IPP = POS, but most cameras have a slight offset.
                                </p>
                            </div>
                        </div>
                        
                        <div style="background: linear-gradient(135deg, rgba(74, 156, 166, 0.1), rgba(212, 165, 116, 0.1)); 
                                    padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-gold);">
                            <p style="font-size: 1.05rem; line-height: 1.8;">
                                <strong>Camera Calibration Report:</strong> The POS, PPA, and IPP values are typically specified 
                                in the camera calibration report. These measurements characterize how the real camera deviates 
                                from the ideal pinhole model, allowing software to correct for geometric distortions and accurately 
                                reconstruct 3D information from 2D images.
                            </p>
                        </div>
                    </div>

                    <!-- Key Insight -->
                    <div style="background: linear-gradient(135deg, rgba(74, 156, 166, 0.1), rgba(212, 165, 116, 0.1)); padding: 2rem; border-radius: 8px; border-left: 4px solid var(--accent-gold); margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.5rem; color: var(--primary-dark); margin-bottom: 1rem;">
                            The Projective Geometry Connection
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            <strong>Desargues' Theorem guarantees</strong> that central projection preserves certain 
                            geometric relationships. Specifically, if three points are collinear in 3D space, their 
                            projections are also collinear in the image plane—this is fundamental to how cameras work.
                        </p>
                        <p style="font-size: 1.05rem; line-height: 1.8;">
                            The camera matrix \(\mathbf{K}\) is built on this projective foundation, with the principal 
                            point offset being a <strong>coordinate transformation</strong> that maps from the ideal 
                            projective model to the actual digital image coordinates of your camera sensor.
                        </p>
                    </div>

                    <!-- Comparing the Models table -->
                    <div style="background: var(--canvas-bg); padding: 2rem; border-radius: 8px;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.5rem; color: var(--primary-blue); margin-bottom: 1.5rem; text-align: center;">
                            Comparing the Models
                        </h3>
                        <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                            <tr style="background: var(--primary-blue); color: white;">
                                <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Aspect</th>
                                <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Theoretical Model</th>
                                <th style="padding: 1rem; text-align: left; border: 1px solid var(--border-color);">Real-World Model</th>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>Optical Axis</strong></td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Passes through image center (0,0)</td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Offset by \((c_x, c_y)\)</td>
                            </tr>
                            <tr style="background: var(--highlight);">
                                <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>Pixels</strong></td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Perfect squares</td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">May be rectangular \((f_x \neq f_y)\)</td>
                            </tr>
                            <tr style="background: white;">
                                <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>Calibration</strong></td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Not needed (ideal geometry)</td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Essential for accurate measurements</td>
                            </tr>
                            <tr style="background: var(--highlight);">
                                <td style="padding: 1rem; border: 1px solid var(--border-color);"><strong>Use Case</strong></td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Mathematical analysis, teaching</td>
                                <td style="padding: 1rem; border: 1px solid var(--border-color);">Computer vision, robotics, AR/VR</td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>
        </section>

        <!-- Slide 8: 3D Pinhole Camera Model -->
        <section class="slide" id="slide-8">
            <div class="slide-content conclusion-slide">
                <h2>Interactive Pinhole Camera Models</h2>
                <div style="max-width: 1200px; margin: 0 auto;">
                    
                    <!-- First Demo: Interactive 3D Object Manipulation -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 3rem;">
                        <div>
                            <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                Interactive 3D Projection
                            </h3>
                            <div class="canvas-container" id="canvas-3" style="height: 700px; margin-bottom: 1rem;"></div>
                            <button class="fullscreen-btn" data-canvas="3">⛶ Fullscreen</button>
                            <p style="font-size: 0.9rem; color: var(--text-muted); font-style: italic; margin-top: 0.5rem;">
                                Click cube to select • Drag to move • Arrow keys: Y/Z • W/S: X axis • A/D: Z axis
                            </p>
                        </div>
                        <div>
                            <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                Mathematics
                            </h3>
                            <div class="math-content">
                                <h4>Camera Configuration</h4>
                                <p>The pinhole camera consists of two key components positioned along the \(X\)-axis:</p>
                                <div class="equation">
                                    \[
                                    \begin{aligned}
                                    P_{\text{pinhole}} &= \left(\frac{d}{2}, 0, 0\right) \\
                                    X_{\text{film}} &= -\frac{d}{2}
                                    \end{aligned}
                                    \]
                                </div>
                                <p>where \(d\) is the total depth of the camera housing.</p>
                                
                                <h4>Perspective Division</h4>
                                <p>The projection exhibits the characteristic perspective effect where projected coordinates are inversely proportional to depth:</p>
                                <div class="equation">
                                    \[
                                    \begin{aligned}
                                    Y_{\text{projected}} &= \frac{X_{\text{film}} - P_x}{V_x - P_x} \cdot V_y \\
                                    Z_{\text{projected}} &= \frac{X_{\text{film}} - P_x}{V_x - P_x} \cdot V_z
                                    \end{aligned}
                                    \]
                                </div>
                                
                                <p class="note"><strong>Foreshortening Effect:</strong> Objects farther from the pinhole appear smaller. This is the fundamental principle behind perspective projection.</p>
                                
                                <h4>Film Bounds Clamping</h4>
                                <p>Projected points are constrained to the film rectangle:</p>
                                <div class="equation">
                                    \[
                                    \begin{aligned}
                                    Y_{\text{clamped}} &= \text{clamp}\left(Y_{\text{projected}}, -\frac{h}{2}, \frac{h}{2}\right) \\
                                    Z_{\text{clamped}} &= \text{clamp}\left(Z_{\text{projected}}, -\frac{w}{2}, \frac{w}{2}\right)
                                    \end{aligned}
                                    \]
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </section>

        <!-- Slide 9: Ray-Plane Intersection (Math Only) -->
        <section class="slide" id="slide-9">
            <div class="slide-content conclusion-slide">
                <h2>Ray-Plane Intersection Mathematics</h2>
                <div style="max-width: 900px; margin: 0 auto;">
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            The geometric foundation of pinhole projection is the <strong>ray-plane intersection</strong>—
                            determining where a light ray from a 3D point intersects the film plane.
                        </p>
                    </div>
                    
                    <div style="background: var(--canvas-bg); padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                            Parametric Ray Equation
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            For a vertex \(\mathbf{V} = (V_x, V_y, V_z)\) in 3D space, the ray from the pinhole 
                            \(\mathbf{P} = (P_x, P_y, P_z)\) through \(\mathbf{V}\) can be expressed parametrically as:
                        </p>
                        <div class="equation">
                            \[
                            \mathbf{R}(t) = \mathbf{P} + t(\mathbf{V} - \mathbf{P}) = (1-t)\mathbf{P} + t\mathbf{V}
                            \]
                        </div>
                        <p style="font-size: 1.05rem; line-height: 1.8;">
                            where \(t\) is the parameter that determines points along the ray. When \(t = 0\), 
                            we're at the pinhole; when \(t = 1\), we're at the vertex.
                        </p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                            Finding the Intersection
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            To find where this ray intersects the film plane at \(X = X_{\text{film}}\), we substitute 
                            into the ray equation and solve for \(t\):
                        </p>
                        <div class="equation">
                            \[
                            \begin{aligned}
                            X_{\text{film}} &= P_x + t(V_x - P_x) \\
                            t &= \frac{X_{\text{film}} - P_x}{V_x - P_x}
                            \end{aligned}
                            \]
                        </div>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            Once we have \(t\), we can find the complete intersection point \(\mathbf{I}\) on the film plane:
                        </p>
                        <div class="equation">
                            \[
                            \mathbf{I} = \begin{pmatrix} 
                            X_{\text{film}} \\ 
                            P_y + t(V_y - P_y) \\ 
                            P_z + t(V_z - P_z)
                            \end{pmatrix}
                            \]
                        </div>
                    </div>
                    
                    <div style="background: var(--highlight); padding: 2rem; border-radius: 8px; border-left: 4px solid var(--accent-teal);">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                            Simplified 2D Projection
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            If the pinhole is at the origin \(\mathbf{P} = (0, 0, 0)\), the math simplifies beautifully:
                        </p>
                        <div class="equation">
                            \[
                            t = \frac{X_{\text{film}}}{V_x}
                            \]
                        </div>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            And the projected 2D image coordinates on the film are:
                        </p>
                        <div class="equation">
                            \[
                            \begin{aligned}
                            Y_{\text{image}} &= t \cdot V_y = \frac{X_{\text{film}}}{V_x} \cdot V_y = \frac{X_{\text{film}} \cdot V_y}{V_x} \\
                            Z_{\text{image}} &= t \cdot V_z = \frac{X_{\text{film}}}{V_x} \cdot V_z = \frac{X_{\text{film}} \cdot V_z}{V_x}
                            \end{aligned}
                            \]
                        </div>
                        <p class="note" style="margin-top: 1.5rem;">
                            <strong>Key Observation:</strong> Notice that the projected coordinates are inversely proportional 
                            to \(V_x\) (the depth). This is the \(1/Z\) relationship that creates perspective foreshortening—
                            objects farther from the pinhole (larger \(V_x\)) appear smaller on the film.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 10: Camera Intrinsic Parameters (Math Only) -->
        <section class="slide" id="slide-10">
            <div class="slide-content conclusion-slide">
                <h2>Camera Intrinsic Parameters</h2>
                <div style="max-width: 900px; margin: 0 auto;">
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            The <strong>camera intrinsic matrix</strong> \(\mathbf{K}\) encodes the internal geometric and 
                            optical properties of a camera, independent of its position and orientation in the world.
                        </p>
                    </div>
                    
                    <div style="background: var(--canvas-bg); padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                            The Intrinsic Matrix
                        </h3>
                        <div class="equation">
                            \[
                            \mathbf{K} = \begin{bmatrix}
                            f_x & s & c_x \\
                            0 & f_y & c_y \\
                            0 & 0 & 1
                            \end{bmatrix}
                            \]
                        </div>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-top: 1rem;">
                            Where:
                        </p>
                        <ul style="font-size: 1.05rem; line-height: 1.8; margin-left: 2rem;">
                            <li><strong>\(f_x, f_y\)</strong>: Focal lengths in pixel units (horizontal and vertical)</li>
                            <li><strong>\(c_x, c_y\)</strong>: Principal point coordinates (optical center in image coordinates)</li>
                            <li><strong>\(s\)</strong>: Skew parameter (usually 0 for modern cameras)</li>
                        </ul>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                            Projection Using Intrinsic Matrix
                        </h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            To project a 3D point \(\mathbf{P}_c = (X, Y, Z)\) in camera coordinates to 2D image coordinates:
                        </p>
                        <div class="equation">
                            \[
                            \begin{bmatrix} u \\ v \\ 1 \end{bmatrix} 
                            \sim 
                            \mathbf{K} \begin{bmatrix} X \\ Y \\ Z \end{bmatrix}
                            =
                            \begin{bmatrix}
                            f_x & s & c_x \\
                            0 & f_y & c_y \\
                            0 & 0 & 1
                            \end{bmatrix}
                            \begin{bmatrix} X \\ Y \\ Z \end{bmatrix}
                            \]
                        </div>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                            This gives us homogeneous coordinates. After perspective division by \(Z\):
                        </p>
                        <div class="equation">
                            \[
                            \begin{aligned}
                            u &= f_x \frac{X}{Z} + s \frac{Y}{Z} + c_x \\
                            v &= f_y \frac{Y}{Z} + c_y
                            \end{aligned}
                            \]
                        </div>
                        <p style="font-size: 1.05rem; line-height: 1.8;">
                            For cameras with zero skew (\(s = 0\)):
                        </p>
                        <div class="equation">
                            \[
                            \begin{aligned}
                            u &= f_x \frac{X}{Z} + c_x \\
                            v &= f_y \frac{Y}{Z} + c_y
                            \end{aligned}
                            \]
                        </div>
                    </div>
                    
                    <div style="background: var(--highlight); padding: 2rem; border-radius: 8px; border-left: 4px solid var(--accent-gold);">
                        <h3 style="font-family: var(--font-serif); font-size: 1.6rem; color: var(--primary-blue); margin-bottom: 1.5rem;">
                            Physical Interpretation
                        </h3>
                        <ul style="font-size: 1.05rem; line-height: 2;">
                            <li><strong>Focal Length:</strong> The distance from the pinhole to the image plane, measured in pixels. 
                            Larger \(f\) means more "zoom" (narrower field of view).</li>
                            <li><strong>Principal Point:</strong> The point where the optical axis intersects the image plane. 
                            Ideally at the image center, but manufacturing imperfections cause offsets.</li>
                            <li><strong>Aspect Ratio:</strong> The ratio \(f_y / f_x\) accounts for non-square pixels.</li>
                        </ul>
                        <p class="note" style="margin-top: 1.5rem;">
                            <strong>Calibration:</strong> In practice, \(\mathbf{K}\) is determined through camera calibration 
                            using known patterns (like checkerboards). Once calibrated, \(\mathbf{K}\) allows us to convert 
                            between 3D world geometry and 2D image measurements, essential for computer vision tasks like 
                            3D reconstruction, augmented reality, and robot navigation.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW SLIDE: Applications -->
        <section class="slide" id="slide-11">
            <div class="slide-content conclusion-slide">
                <h2>Real-World Applications</h2>
                <div style="max-width: 1200px; margin: 0 auto;">
                    
                    <div class="note" style="margin-bottom: 2rem;">
                        <p style="font-size: 1.15rem; line-height: 1.8;">
                            The geometry we've explored—from Desargues' Theorem to camera matrices—powers 
                            modern photography, computer vision, and computational imaging.
                        </p>
                    </div>
                    
                    <!-- Grid of Applications -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; margin-bottom: 2rem;">
                        
                        <!-- Panoramas -->
                        <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                            <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                Panoramic Stitching
                            </h3>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                Creating wide-angle panoramas requires <strong>aligning multiple perspective projections</strong>. 
                                The mathematics of homographies (projective transformations) allows us to seamlessly blend 
                                images taken from different viewpoints.
                            </p>
                        </div>
                        
                        <!-- Depth of Field -->
                        <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                            <h3 style="font-family: var(--font-serif); font-size: 1.4rem; color: var(--primary-blue); margin-bottom: 1rem;">
                                Depth of Field & Focus
                            </h3>
                            <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1rem;">
                                Real cameras use <strong>finite apertures</strong> instead of ideal pinholes. This creates 
                                depth of field effects so objects situated at different depths blur differently. The pinhole model is the 
                                limiting case as aperture = 0.
                            </p>
                        </div>
                        
                    </div>
                </div>
            </div>
        </section>

        <!-- UPDATED Conclusion Slide -->
        <section class="slide" id="slide-12">
            <div class="slide-content conclusion-slide">
                <h2>Conclusion</h2>
                <div style="max-width: 1000px; margin: 0 auto;">
                    <p>Geometry is like art. Artists, people, have different points of view, and when drawing what they see, it is projected differently on their canvas. This is the beauty of art. This is the beauty of math.</p>
                </div>
            </div>
        </section>

    </div>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prev-btn">←</button>
        <div class="slide-indicators" id="slide-indicators"></div>
        <button class="nav-btn" id="next-btn">→</button>
    </div>

    <!-- Slide Counter -->
    <div class="slide-counter" id="slide-counter">1 / 13</div>

    <!-- Fullscreen Overlay Exit Button -->
    <button class="fullscreen-exit" id="fullscreen-exit" style="display: none;">✕ Exit Fullscreen</button>

<!-- Scripts -->
    <script src="sketches/Offset.js"></script>
    <script src="sketches/PinholeCamera.js"></script>
    <script src="sketches/Objects.js"></script>
    <script src="sketches/PinholeWithOffset.js"></script>
    <script src="sketches/Desargues.js"></script>
    <script src="sketches/DesarguesParallel.js"></script>
    <script src="sketches/PinholeProjection2D.js"></script>
    <script src="sketches/navigation.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: '\\[', right: '\\]', display: true},
                    {left: '\\(', right: '\\)', display: false}
                ],
                throwOnError: false
            });
        });
    </script>
</body>
</html>
